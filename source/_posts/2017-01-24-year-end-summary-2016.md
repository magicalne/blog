---
layout: post
title: 2016年终总结——What A Fucking Year...
category: thinking
date: 2017-01-24
---

马上就要过年了，回顾一下2016的成长。   

从当初毕业到现在，自己一直从事p2p借款端的工作。最早是开发帮助人工审批的系统，后面都在开发自动审批的系统。   

# 先总结一下业务吧   

传统金融互联网化应该是大势所趋，而且从技术角度讲p2p确实很有意思。互联网金融不像互联网，会去追求很大的并发量，还应该是踏踏实实的把线下风控一步步搬到线上。从2016年初就听说互联网金融要大洗牌，滥竽充数的公司最终会由于泡沫破灭而倒闭。现在看来，由于消费金融的兴起，给很多p2p公司续上了命。不变的是：泡沫还在，今年不破，明年也该破了。   

我听说的做消费金融的公司有两家是盈利的，但是那种盈利是不可持续的，年化利率能到300%，坏账率极高，完全是用利率盖过坏账而挣得钱，压根没有风控，这怎么可能持续呢。。。我们公司也在做消费金融，实话实说做的不好，但是就是试水，并不是主打业务，无伤大雅。但是这后半年我作为一个程序员仿佛看到了这个游戏最好的玩法，现在关键能不能实现这种玩法了。   

### 所谓的风控   

首先，我是不相信线下风控的实用性，更不相信传统风控团队能做风控，特别是我们公司的风控！我十分坚信，最后能完善线上风控的一定是程序员！做p2p的公司，一上来是没有数据的。所以，这个游戏最初火的是一批数据公司。我们的业务完全取决于对接的第三方数据公司的数据。线上风控的业务模式就是，来了一个借款人，提交了一系列个人信息，然后我们就拿着这些信息去问各个数据公司要这个人的相关数据，拿到所有数据后出一份报告，然后跑各种规则、模型，最后得出一个结论，这个人是好人还是坏人，能借多少钱，怎么还钱。这是一个最简单的业务模型，细点说的话，一般分三步走：   

1. 准入
2. 黑名单
3. 打分卡

我们现在看怎么推翻上述三个步骤。就是说，骗子怎么能骗到钱。   

太简单了，准入可以忽略不看，没啥实质的风控在里面，先看黑名单。黑名单可以理解为各大p2p公司维护的一个巨大的网，过去的人就应该是好人，坏人会被拦在外面，当然你没法保证过去的人一定会还钱。理论上说，黑名单就是中国个人征信完善的过程，希望过几年坏人就会过滤个差不多吧。但是你无法想象人的内心到底有多黑暗。所以黑名单基本上只能过滤一小部分坏人。大多数坏人都可以走到第三步。打分卡是一个十分滑稽的风控方式，很容易被打破。打分卡的逻辑一般就是看你的通话记录，看你的银行流水。坏人就会花钱去收干净的身份证，然后拿着身份证办银行卡、手机号，养半年去各个p2p平台借钱。打分卡，通过！只要是有**人为规则**在里面的，一定会被坏人推敲出来。这里就算上模型，会好很多，但是意义也不会特别大，因为特征值没变，按照传统风控的模式，还是去看手机通话记录、银行卡啥的。这些东西没法诠释一个人的借款能力，所以就没发作为风控的**核心**手段。   

在这里必须黑一下我厂的风控！净整些没用的，搞些规则参数改来改去的，还要看数据，json都看不懂，还不学，sql也不会写，就等着啥都弄好了生成个excel放到他们眼前才行。这都2017年了，风控还在靠excel看数据也是醉了。。。凭什么程序员要每天学习新知识，而做互联网金融的风控居然不用学习新知识？然后程序员还要受所谓的风控专家的摆布？说好了程序员是大爷呢？哎，不做大爷好多年了。。。   

以上就是针对消费金融的hack+吐槽。。。事实和结论相符，我不是在胡说八道，这样的风控没用，end of story。   

### 如何解决？

谈这个问题前，再引申另一个问题。如果一个没有逾期历史的好人，他自己是真需要钱，出于某种目的来p2p借钱，本身他也**可能**是有还款意愿的，他通过了黑名单和打分卡，顺利拿到钱。这种人怎么做风控呢？其实这种风控是之前线下风控的核心问题，上述的各种问题只不过是把风控放到线上时才产生的问题。这种问题的核心是算杠杆率。映射到消费金融就是算你是不是搬了东墙补西墙。因为消费金融的借款金额低，还款周期短，就是个变形的信用卡，能取现，能分期。你肯定不能说是借个几千块钱去炒股炒房的吧？这也就是为什么我之前说这个泡沫早晚会破的原因。消费贷针对的人群就是低端蓝领，属于最劣质的借款人群。银行是绝对不会给这群人信用卡的。借款人还不还钱纯看这个人心底是否善良、是否有良知、是否有是非观念。   

打工小妹小弟每月在北上广深挣个3000，却要用消费贷、消费分期买肾6、肾7，将来还会有肾8肾9。然而我用的还是Oneplus 2，还用的挺好，各种捣鼓，研究为什么android会卡，ios就不会卡。。。这种消费习惯的养成简直就是资本主义的丑恶嘴脸啊。不过这种事也不是第一次了。当年大学生刷信用卡也有这个问题，申请了多个信用卡买这买那，杠杆高的离谱。但是这种人在大学生中就算是最傻逼的了。。。跟低端蓝领不一样。我女朋友之前给我讲了一个段子，她公司的催收去催债，借款人居然说：“我凭自己能力借到的钱，我凭什么还？”   

解决的方法我认为是有的，要把钱借给真正有需要、有还款意愿的人手里，就要全面的了解这个借款人，这个靠人工介入不行。还是要用计算机！如今计算机能通过皮肤采样，判断你是否得了癌症，那为什么计算机不能全面了解一个借款人呢？肯定能！不多说，明年见！

# 技术   

## 简述   
1. react全家桶太复杂，不能听任大厂任意吹逼，缺点也是技术选型的关键；
2. spring boot隐藏的细节有点多，不看文档不知道的东西太多；
3. checkstyle, findbugs和sonar都是好东西，帮助你写出bug free的代码；
4. Intellij很好很强大，经常更新版本吧，惊喜不断；
5. 使用依赖注入时，不要用field injection，应该配合lombok使用constructor injection；
6. rabbimtq是用来处理CPU密集型的场景，不适合IO密集型的场景；
7. GC的核心是如何做到异步的GC，以及自动调优，期待G1；
8. java不适合做客户端应用，如android。GC严重影响使用，只能期待程序员好好写代码；
9. 同理go不适合写android。引申，go不能做android开发的话，就不会持续的发展；
10. 正确学习java的路径：语法>基础>集合>io>多线程>内存模型>GC>JIT>JVM。

## 先说前端    

2016年的前端应该是前端开发的元年了。这一年发生了好多。。。我从来没想过做专职的前端开发，我不喜欢js这个语言，不喜欢css。但是我不排斥开发前端。毕竟作为最直接的交互界面，前端是很重要的。这一年有一段时间一直在搞前端，用了react全家桶。。。总感觉facebook很不负责任的说，大厂吹的很好听，但是一旦入坑就不是那么回事了。react的难点在于如何一开始构建一个框架，全家桶里的东东实在太多了。。。影响开发体验。不过框架搭起来就好了，模块化代码还是挺好的体验。但是我写前端的时间越长就越排斥前端。心中bgm是：哎，只要把xxx做成xxx就行了，可是好烦啊，不想搞啊，asfjoqwekfhnjr.....还是赶紧搞定去搞别的吧。。。还是喜欢写java。   

## java   

曾几何时，我还是挺不喜欢java的。那时的我还是php神，嗯，PHP is the best language!现在不那么想了，java真的是能接触到的最优秀的语言，而且是最能提升自己对整个计算机系统理解能力的语言。java足够高层，可以对实现做抽象，同时java又足够底层，可以让你放手去实现底层的构建，这一切都需要你去深入到os、cpu、内存中去，去窥探那个奇妙的世界。几个月前开始订阅java社区开发的邮件，期间逐渐证实了我之前的一个猜想——java做了太多努力在跨平台上。跨平台绝对是黑科技！因为跨平台不仅仅跨的是操作系统，还在跨cpu。java要针对不同的os和cpu去订制实现，真的是订制！现代cpu想跑的快，硬件上只能多加core，软件上尽可能的在单个core上完成任务，每个core都有自己的寄存器，实现新的reorder、barrier，但是多线程编程一定要跨线程上下文，阻止reorder，合理的打开barrier。不同的os和cpu有各自不同的实现标准，然而java却要综合所有平台的特性，一再强调跨平台。如果一上来，没有把跨平台作为java 的首要特性，我相信java一定会发展的更好，不过话说回来，如果没有点噱头，估计java都活不下来。   

我觉得2016年，我真的是跌跌撞撞地把java打通关了，我可没说我精通，但是精通是早晚的事，2017年差不多可以，2018年以后我就可以放开手脚研究os和硬件了。我发现学java最好的途径还是读specification和官方文档。thinking in java、effective java、JCIP都是很优秀的书，但是有一个问题，这个问题特别像是读技术博客。在博客中，博主对技术的阐述，只是自己的理解，等到读者再读的时候，那仅仅是读的博主的理解而已。这些优秀的技术书籍只能帮助你理解java，但是本质上那都是作者们自己的理解以及他们的宝贵经验。想要了解java真实的一面，还是要下狠功夫读晦涩的说明和相关论文。   

## 一个理论   

关于技术，今年我还得出了一个理论：对于客户提出的需求，如果程序员认为这个需求要超过3天才能完成，有三种可能：
1. 需求不合理，不是说不能做，只是不合理，比如设计的功能不应该包含在该系统A当中，应该放在系统B上；
2. 系统架构不正确；
3. 程序员没能力。

这个理论是我从自身出发，并参考其他同事的日常工作得出的结论。需求肯定永远都是对的，只不过提需求的人多种多样，很有可能用户没有受过专业训练，用户其实并不理解自己真正想要的是什么。这种问题慢慢沟通，提供自己的建议就好。第二种可能是灾难性的，架构上缺乏思考，扩展性不够，程序员的锅啊。今后可能因为这个问题出现各种各样的bug，慢慢你就是救火队长了。第三种情况很微妙，很少人会承认自己的能力上限。特别是在工作中，有kpi考核呢。平常开玩笑的时候可以说说，你不行啊，你个弱鸡，你没能力啊。但是大家都是码农，有些事不必戳穿。   

## 要做正确的事   

我经常说：**要做正确的事**。不论是做人，还是做技术。做技术的没有不踩坑的，踩坑了不怕，就看你怎么走出来，怎么解决问题。经常说，哎呀，系统出bug了，要是想彻底修好应该从底层xxxx，但是这样太费时间了，还是先hotfix一下吧。。。我觉得这时候就是体现一个程序员能力的时候，这时候就应该分析清楚应该怎么解决这个问题，然后**贯彻执行力**，解决这个难题，只有不断的自己跟自己较劲，技术才能不断提升。有时候在修很恶心的bug 的时候，我也很想放弃，换个捷径走，但是我自己是知道的，这个时候恰恰是提升自己能力的时候。因为你在做你不熟悉的事，而做不熟悉的事是最能锻炼人的，你在突破你的瓶颈，冲出你的舒适区。   

## 代码质量   

Dijkstra曾经说过一句很有意思的话，大意是：
> 测试只能测试出测试出来的bug，但是不能测试出没有被测试出来的bug。   

那怎么才能找到那些藏在代码中的没能被发现的bug呢？   

不断的看自己写的代码，不断看别人写的代码，这就是一个重构的过程，你总会发现之前想的不周到的地方，开发不是一蹴而就的。而是不断迭代不断重构的过程。程序员不应该把功能开发完之后就万事大吉了，后面随便测测就再也不看了。出了bug甩给别人那简直就是可耻了。。。   

# 最后   

自己还有很多不懂的地方，2016再见，2017加油！做一个快乐的傻缺技术男。。。
